var c=(o,e,s)=>new Promise((l,i)=>{var n=a=>{try{r(s.next(a))}catch(d){i(d)}},t=a=>{try{r(s.throw(a))}catch(d){i(d)}},r=a=>a.done?l(a.value):Promise.resolve(a.value).then(n,t);r((s=s.apply(o,e)).next())});import u from"./externalServices.js";import"./utils.js";export default class p{constructor(e){this.category=e,this.path="json/"+e+".json",this._list=null}getList(){return c(this,null,function*(){return this._list!=null?this._list:(this._list=yield new u(this.category).getData(),this._list)})}appendProductCard(e,s){return c(this,null,function*(){const l=document.getElementById("product-card-template");let i=l.content.cloneNode(!0),n=yield this.getList(),t=n[s];e.appendChild(i),i=e.lastElementChild;let r=(t.SuggestedRetailPrice-t.FinalPrice)/t.SuggestedRetailPrice*100;i.innerHTML=i.innerHTML.multiReplace([["$PRODUCT_ID$",t.Id],["$CATEGORY$",this.category],["$IMG_SRC$",t.Images.PrimaryLarge],["$IMG_DESCRIPTION$",t.Name],["$BRAND$",t.Brand.Name],["$NAME$",t.Name],["$LIST_PRICE$",t.ListPrice.toFixed(2)],["$RETAIL_PRICE$",t.SuggestedRetailPrice.toFixed(2)],["$DISCOUNT$",r.toFixed(0)]])})}appendProductCards(e){return c(this,null,function*(){let s=yield this.getList();s.forEach((l,i)=>{this.appendProductCard(e,i)})})}}
